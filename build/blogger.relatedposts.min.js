/** Copyright (c) 2015 akinari tsugo */
(function(){var e=null,m=[],n=0,q=0;
function s(a){if(200===a.status.code&&(a=a.feed.entries||[],m=m.concat(a),q+=1,!(q<n))){a=m;var d,b,l,p,f,h;d=e.MaxResults;p=document.createElement("ul");b=0;for(l=a.length<d?a.length:d;b<l;b++){d=Math.floor(a.length*Math.random());f=a[d];var g=h=void 0,c=g=void 0,k=c=void 0,r=void 0;h=document.createElement("div");h.className="item-content";e.ThumbnailVisible&&(r=(k=(f.content||"").match(/<img.*?src=['"](.*?)["'].*?>/))&&k[1]||"")&&(g=document.createElement("div"),g.className="item-thumbnail",c=
document.createElement("a"),c.href=f.url,k=document.createElement("img"),k.style.width="72px",k.style.height="72px",k.src=r,c.appendChild(k),g.appendChild(c),h.appendChild(g));e.TitleVisible&&(g=document.createElement("div"),g.className="item-title",c=document.createElement("a"),c.href=f.link,c.appendChild(document.createTextNode(f.title)),g.appendChild(c),h.appendChild(g));e.SnippetVisible&&(c=document.createElement("div"),c.className="item-snippet",c.innerHTML=f.contentSnippet,h.appendChild(c));
f=document.createElement("li");f.appendChild(h);p.appendChild(f);a.splice(d,1)}document.getElementById(e.OutputElementId).appendChild(p)}}google.load("feeds","1");
google.setOnLoadCallback(function(){var a;a=RELATEDPOSTS_SETTINGS||{};e={BlogUrl:a.BlogUrl||"garafu.blogspot.jp",MaxResults:a.MaxResults||5,TitleVisible:"boolean"===typeof a.TitleVisible?a.TitleVisible:!0,ThumbnailVisible:"boolean"===typeof a.ThumbnailVisible?a.ThumbnailVisible:!0,SnippetVisible:"boolean"===typeof a.SnippetVisible?a.SnippetVisible:!0,LabelElementId:a.LabelElementId||"blogger.relatedposts.label",OutputElementId:a.OutputElementId||"blogger.relatedposts.output"};a=document.getElementById(e.LabelElementId).innerText.replace(/^\s*|\s$/g,
"").split(",");n=a.length;var d,b,l;if(0!==a.length)for(l=Math.ceil(1.2*e.MaxResults),d=a.length;d--;)b="http://"+e.BlogUrl+"/",b+="feeds/posts/default/-/",b+=a[d],b=new google.feeds.Feed(b),b.setResultFormat(google.feeds.Feed.JSON_FORMAT),b.setNumEntries(l),b.load(s)});})();
